#ifndef SMP_TEST_H
#define SMP_TEST_H

#include "SMP_Float.h"
#include "IArithmetics.h"
#include "GPU_Arithmetics.h"
#include "CPU_Arithmetics.h"

#include <array>
#include <string>
#include <cstdint>

struct values
{
    std::string op1;
    std::string op2;
    std::string res;
    std::string exp;
};

class SMP_Test
{
public:
    int64_t executeTests(IArithmetics *calculator, bool performanceTest);

private:
    void testAdd(IArithmetics *calculator);
    void testMultiply(IArithmetics *calculator);
    void testPerformance(IArithmetics *calculator, bool worstCase);
    std::string createBigFloat(uint64_t preRadix, uint64_t postRadix, char digit); 

    std::string operand1{};
    std::string operand2{};
    std::string resultMantissa{};

    values add1 = {"0.99", "0.99", "198", "1"};
    values add2 = {"0.99", "0.099", "1089", "1"};
    values add3 = {"0.099", "0.99", "1089", "1"};
    values add4 = {"9.99", "0.99", "1098", "2"};
    values add5 = {"99.99", "999.99", "109998", "4"};
    values add6 = {"0.11", "999.99", "10001", "4"};
    values add7 = {"0.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
                   "0.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
                   "2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
                   "0"};
    values add8 = {"0.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "0.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "19999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999998",
                   "1"};
    values add9 = {"0.999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "0.999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "1999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999998",
                   "1"};

    values mul1 = {"0.99", "0.99", "9801", "0"};
    values mul2 = {"0.99", "0.099", "9801", "-1"};
    values mul3 = {"0.099", "0.99", "9801", "-1"};
    values mul4 = {"9.99", "0.99", "98901", "1"};
    values mul5 = {"99.99", "999.99", "999890001", "5"};
    values mul6 = {"0.11", "999.99", "1099989", "3"};
    values mul7 = {"0.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
                   "0.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
                   "1234567901234567901234567901234567901234567901234567901234567901234567901234567901234567901234567900987654320987654320987654320987654320987654320987654320987654320987654320987654320987654320987654321",
                   "-1"};
    values mul8 = {"0.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "0.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999980000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001",
                   "0"};
    values mul9 = {"0.999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "0.999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                   "999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999998000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001",
                   "0"};

    std::array<values, 9> addTest = {add1, add2, add3, add4, add5, add6, add7, add8, add9};
    std::array<values, 9> mulTest = {mul1, mul2, mul3, mul4, mul5, mul6, mul7, mul8, mul9};

    std::array<int, 7> perfTest = {1, 1, 10, 100, 1000, 10000, 100000};
};

#endif